webpackJsonp([17],{"7VTF":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("NYxO"),i={components:{},data(){return{ordKeyword:"",choseBtn:0,whichItem:1,tabName:localStorage.getItem("order/tab/name")||"name1",tabOptions:[{name:"name1",whichItem:1},{name:"name2",whichItem:2},{name:"name3",whichItem:3},{name:"name0",whichItem:0},{name:"name4",whichItem:4}],tableOrder:[],loading:!0,totalPage:0,pageSize:10,totalNum:0,currentPage:1,loginmsg:this.$t("common.logintip"),loadingTimer:null,loadingTimerDuration:1e4}},methods:{handleListApproveHistory(){},setLoadingTimer(){this.clearLoadingTimer(),this.loadingTimer=setInterval(()=>{this.getOrder(!1)},this.loadingTimerDuration)},clearLoadingTimer(){clearInterval(this.loadingTimer),this.loadingTimer=null},handleSearch(){this.currentPage=1,this.getOrder(),this.setLoadingTimer()},changePage(e){this.currentPage=e,this.getOrder(),this.setLoadingTimer()},showItem(e){this.currentPage=1,localStorage.setItem("order/tab/name",e),this.getItem(e),this.getOrder(),this.setLoadingTimer()},getItem(e){this.whichItem=this.tabOptions.find((t,a)=>t.name===e).whichItem},getOrder(e=!0){this.loading=e;let t={};t.status=this.whichItem,t.pageNo=Math.max(this.currentPage-1,0),t.pageSize=this.pageSize,""!=this.ordKeyword&&(t.orderSn=this.ordKeyword),this.$http.post(this.host+"/otc/order/self",t).then(e=>{var t=e.body;0==t.code&&t.data.content?(this.tableOrder=t.data.content,this.totalPage=t.data.totalPages,this.totalNum=t.data.totalElements):this.$Message.error(t.message),this.loading=!1})},strpro(e){let t=e;var a=(e=e.slice(1)).replace(/[\D\d]*/g,function(e){for(var t="",a=0;a<e.length;a++)t+="*";return t});return t.slice(0,1)+a}},created(){this.getItem(this.tabName),this.getOrder(),this.setLoadingTimer()},beforeDestroy(){this.clearLoadingTimer()},mounted(){},computed:Object(r.b)({member:"member",basis:"basis",tableColumnsOrder(){let e=this,t=[];return t.push({title:this.$t("uc.otcorder.orderno"),key:"orderSn",minWidth:60,align:"center",render:function(t,a){return t("p",[t("a",{on:{click:function(){e.$router.push("/chat?tradeId="+a.row.orderSn)}}},a.row.orderSn)])}}),this.member&&1==this.member.channelFlag&&t.push({title:"渠道订单号（渠道用户编号）",minWidth:150,align:"center",render(e,t){let a=t.row.channelOrderId,r=t.row.subMemId;return e("p",[e("p",a),e("p",r?"("+r+")":"")])}}),t.push({title:this.$t("uc.otcorder.created"),key:"createTime",minWidth:90,align:"center"}),t.push({title:this.$t("uc.otcorder.symbol"),key:"unit",align:"center"}),t.push({title:this.$t("uc.otcorder.type"),key:"type",align:"center",render:(t,a)=>{let r="";return t("div",[t("p",r=0==a.row.type?e.$t("uc.otcorder.type_buy"):e.$t("uc.otcorder.type_sell"))])}}),t.push({title:this.$t("uc.otcorder.tradename"),key:"name",ellipsis:"true",align:"center",render:function(t,a){return t("p",[t("a",{on:{click:function(){e.$router.push("/checkuser?id="+a.row.name)}}},a.row.name)])}}),t.push({title:this.$t("uc.otcorder.amount"),key:"amount",align:"center"}),t.push({title:this.$t("uc.otcorder.money"),key:"money",align:"center"}),t.push({title:this.$t("uc.otcorder.fee"),key:"commission",align:"center"}),t.push({title:"备注",key:"payRemark",align:"center"}),t.push({title:"支付方式",key:"payMode",align:"center"}),this.member&&1==this.member.channelFlag&&t.push({title:"操作",key:"createTime",align:"center",render(t,a){let r=a.row.appId,i=a.row.accessToken,o=a.row.orderId;if(r&&i)return t("p",[t("Button",{on:{click:function(){let t=`${e.basis.isLocal?e.basis.originTest:e.basis.origin}/p/index.html#/custom/detail/${r}/${i}?orderId=${o}`;window.open(t)}},props:{type:"warning"}},"去申诉")])}}),t}})},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"nav-rights"},[a("div",{staticClass:"nav-right"},[a("div",{staticClass:"bill_box_order"},[a("div",{staticClass:"order_box"},[a("Tabs",{attrs:{value:e.tabName,animated:!1},on:{"on-click":e.showItem}},[a("TabPane",{attrs:{label:e.$t("uc.otcorder.unpaid"),name:"name1"}},[a("div",{staticClass:"order-table"},[a("Table",{attrs:{"no-data-text":e.$t("common.nodata"),columns:e.tableColumnsOrder,data:e.tableOrder,loading:e.loading,"disabled-hover":!0}}),e._v(" "),a("div",{staticClass:"page",staticStyle:{margin:"10px",overflow:"hidden"}},[a("div",{staticStyle:{float:"right"}},[e.totalPage>0?a("Page",{attrs:{total:e.totalNum,current:e.currentPage,"show-total":"","page-size":e.pageSize},on:{"on-change":e.changePage}}):e._e()],1)])],1)]),e._v(" "),a("TabPane",{attrs:{label:e.$t("uc.otcorder.paided"),name:"name2"}},[a("div",{staticClass:"order-table"},[a("Table",{attrs:{"no-data-text":e.$t("common.nodata"),columns:e.tableColumnsOrder,data:e.tableOrder,loading:e.loading,"disabled-hover":!0}}),e._v(" "),a("div",{staticClass:"page",staticStyle:{margin:"10px",overflow:"hidden"}},[a("div",{staticStyle:{float:"right"}},[e.totalPage>0?a("Page",{attrs:{total:e.totalNum,current:e.currentPage,"show-total":"","page-size":e.pageSize},on:{"on-change":e.changePage}}):e._e()],1)])],1)]),e._v(" "),a("TabPane",{attrs:{label:e.$t("uc.otcorder.finished"),name:"name3"}},[a("div",{staticClass:"order-table"},[a("Table",{attrs:{"no-data-text":e.$t("common.nodata"),columns:e.tableColumnsOrder,data:e.tableOrder,loading:e.loading,"disabled-hover":!0}}),e._v(" "),a("div",{staticClass:"page",staticStyle:{margin:"10px",overflow:"hidden"}},[a("div",{staticStyle:{float:"right"}},[e.totalPage>0?a("Page",{attrs:{total:e.totalNum,current:e.currentPage,"show-total":"","page-size":e.pageSize},on:{"on-change":e.changePage}}):e._e()],1)])],1)]),e._v(" "),a("TabPane",{attrs:{label:e.$t("uc.otcorder.canceled"),name:"name0"}},[a("div",{staticClass:"order-table"},[a("Table",{attrs:{"no-data-text":e.$t("common.nodata"),columns:e.tableColumnsOrder,data:e.tableOrder,loading:e.loading,"disabled-hover":!0}}),e._v(" "),a("div",{staticClass:"page",staticStyle:{margin:"10px",overflow:"hidden"}},[a("div",{staticStyle:{float:"right"}},[e.totalPage>0?a("Page",{attrs:{total:e.totalNum,pageSize:e.pageSize,"show-total":"",current:e.currentPage},on:{"on-change":e.changePage}}):e._e()],1)])],1)]),e._v(" "),a("TabPane",{attrs:{label:e.$t("uc.otcorder.appealing"),name:"name4"}},[a("div",{staticClass:"order-table"},[a("Table",{attrs:{"no-data-text":e.$t("common.nodata"),columns:e.tableColumnsOrder,data:e.tableOrder,loading:e.loading,"disabled-hover":!0}}),e._v(" "),a("div",{staticClass:"page",staticStyle:{margin:"10px",overflow:"hidden"}},[a("div",{staticStyle:{float:"right"}},[e.totalPage>0?a("Page",{attrs:{total:e.totalNum,current:e.currentPage,"show-total":"","page-size":e.pageSize},on:{"on-change":e.changePage}}):e._e()],1)])],1)]),e._v(" "),a("Input",{staticStyle:{width:"250px","margin-right":"20px"},attrs:{slot:"extra",icon:"ios-search",placeholder:e.$t("uc.otcorder.searchtip")},on:{"on-click":e.handleSearch},slot:"extra",model:{value:e.ordKeyword,callback:function(t){e.ordKeyword=t},expression:"ordKeyword"}})],1)],1)])])])},staticRenderFns:[]};var n=a("VU/8")(i,o,!1,function(e){a("IrMM"),a("fHZ5")},"data-v-3ffeae3c",null);t.default=n.exports},IrMM:function(e,t){},fHZ5:function(e,t){}});