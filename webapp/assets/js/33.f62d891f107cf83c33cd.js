webpackJsonp([33],{JWky:function(e,t,r){"use strict";function n(e){if(!Array.isArray(e))throw new Error("The argument must be array.");for(var t=e.length;t>1;){let r=Math.floor(Math.random()*t--);[e[t],e[r]]=[e[r],e[t]]}return e}function s(e=[],t=!0){if(!Array.isArray(e))throw new Error("The first argument must be array.");if("boolean"!=typeof t)throw new Error("The second argument must be boolean.");return e.sort((e,r)=>t?e-r:r-e)}function i(e=0,t=10,r=!0){if(!Number.isInteger(e))throw new Error("The first argument must be integer number.");if(!Number.isInteger(t)||t<=0)throw new Error("The first argument must be be integer number and it must be greate than 0.");if("boolean"!=typeof r)throw new Error("The third argument must be boolean,and this normal is false.");let n=[];if(r)for(let r=e;r<t+e;r++)n.push(r);else for(let r=e;r>e-t;r--)n.push(r);return n}function o(e=[]){if(!Array.isArray(e))throw new Error("The first argument must be array.");let t=[];for(let r=0;r<e.length;r++){let n=e[r],s=t.findIndex(e=>{let t=Number.isNaN(e.value)&&Number.isNaN(n);return e.value===n||t});-1===s?t.push({value:n,times:1,indexs:[r]}):(t[s].times+=1,t[s].indexs.push(r))}return t}Object.defineProperty(t,"__esModule",{value:!0}),n.sorter=function(e){if(!Array.isArray(e))throw new Error("The argument must be array.");return e.sort(function(e,t){return Math.random()-.5})},s.quicker=function(e=[],t=!0){if(!Array.isArray(e))throw new Error("The first argument must be array.");if("boolean"!=typeof t)throw new Error("The second argument must be boolean.");if(0===e.length)return e;let r=e[0],n=[],i=[];for(let t=1;t<e.length;t++){let s=e[t];s<r?n.push(s):i.push(s)}return s.quicker(n).concat([r],s.quicker(i))},s.quicker.with=function(e=[],t=function(){},r=this){if(!Array.isArray(e))throw new Error("The first argument must be array.");if("function"!=typeof t)throw new Error("The second argument must be function.");if(0===e.length)return e;let n=e[0],i=[],o=[];for(let s=1;s<e.length;s++){let a=e[s];t.call(r,a,n,e)?i.push(a):o.push(a)}return s.quicker.with(i,t,r).concat([n],s.quicker.with(o,t,r))},s.subbinger=function(e=[],t=!0){if(!Array.isArray(e))throw new Error("The first argument must be array.");if("boolean"!=typeof t)throw new Error("The second argument must be boolean.");let r=e.length;for(let n=0;n<r-1;n++)for(let s=0;s<r-n-1;s++)(t&&e[s]>e[s+1]||!t&&e[s]<e[s+1])&&([e[s],e[s+1]]=[e[s+1],e[s]]);return e},i._random=function(e=16){if(!Number.isInteger(e)||e<=0)throw new Error("The first argument must be integer number and it must be greater than 0,and this normal is 16.");let t="abcdefghijklmnopqrstuvwxyz9876543210",r=t.length,n="";for(let s=0;s<e;s++)n+=t.charAt(Math.floor(Math.random()*r));return n},i.stringer=function(e=10,t=4){if(!Number.isInteger(e)||e<=0)throw new Error("The first argument must be integer number and it must be greater than 0,and this normal is 10.");if(!Number.isInteger(t)||t<1)throw new Error("The second argument must be integer number and it must be greater than 0,and this normal is 4.");let r=[];for(let n=0;n<e;n++)r.push(template._random(t));return r},i.ofer=function(e=10,t=function(){},r=this){return Array.apply(null,Array(e)).map(()=>t.call(r))},o.maxer=function(e=[]){if(!Array.isArray(e))throw new Error("The argument must be array.");let t=times(e);return s.quicker.with(t,function(e,t){return e.times>t.times}).filter(function(e,t,r){return e.times===r[0].times})},o.miner=function(e=[]){if(!Array.isArray(e))throw new Error("The argument must be array.");let t=times(e);return s.quicker.with(t,function(e,t){return e.times<t.times}).filter(function(e,t,r){return e.times===r[0].times})};var a=function(e){return"Invalid Date"!==new Date(e).toString()};var u=function(e,t){let r=new Date(e);if(!a(e))throw new Error("The first argument must be a valid date.");if("string"!=typeof t)throw new Error("The second argument must be string.");var n={"M+":(e=r).getMonth()+1,"d+":e.getDate(),"H+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(var s in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+s+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?n[s]:("00"+n[s]).substr((""+n[s]).length)));return t};let l=function(e,t,r,n="day"){if(!a(e))throw new Error("The first argument must be a valid date.");if(!a(t))throw new Error("The second argument must be a valid date.");if(!Number.isInteger(r)||r<0)throw new Error("The third argument must be int number,and it must be not less than 0.");if(-1===["day","hour","minute","second"].findIndex(e=>e===n))throw new Error("The fourth argument must be in ['day', 'hour', 'minute', 'second'].");let s=(e=+new Date(e))+r;if((t=+new Date(t))<e)return{type:-1,memo:"当前时间小于起始时间"};if(t>s)return{type:1,memo:"当前时间大于起始时间与倒计时之和"};let i,o=e+r-t;"day"===n?i=[{text:["日","day","d"],label:"day",value:864e5},{text:["时","hour","h"],label:"hour",value:36e5},{text:["分","minute","m"],label:"minute",value:6e4},{text:["秒","second","s"],label:"second",value:1e3}]:"hour"===n?i=[{text:["时","hour","h"],label:"hour",value:36e5},{text:["分","minute","m"],label:"minute",value:6e4},{text:["秒","second","s"],label:"second",value:1e3}]:"minute"===n?i=[{text:["分","minute","m"],label:"minute",value:6e4},{text:["秒","second","s"],label:"second",value:1e3}]:"second"===n&&(i=[{text:["秒","second","s"],label:"second",value:1e3}]);for(let e=0;e<i.length;e++){let t=i[e];if(0===e)t.backTime=Math.floor(o/t.value),t.reserveTime=o-t.backTime*t.value;else{let r=i[e-1];t.backTime=Math.floor(r.reserveTime/t.value),t.reserveTime=r.reserveTime-t.backTime*t.value}}return{type:0,memo:"正在倒计时中...",storage:i}};l.day=function(e,t,r){return l(e,t,r,"day")},l.hour=function(e,t,r){return l(e,t,r,"hour")},l.minute=function(e,t,r){return l(e,t,r,"minute")},l.second=function(e,t,r){return l(e,t,r,"second")};function h(...e){return function(t){let r=Object.prototype.toString.call(t).slice(8,-1).toLowerCase();return e.some(e=>e===r)}}h("number"),h("string"),h("function"),h("boolean"),h("null"),h("undefined"),h("object"),h("array"),h("null","undefined"),h("regexp");function c(e){return"object"===Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}c.emptyer=function(e){if(!c(e))throw new Error("The argument must be object.");return 0===Object.keys(e).length},c.plainer=function(e){try{let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch(e){return!1}},c.freer=function(e){return null!=e&&(null===Object.getPrototypeOf(e)||null===Object.getPrototypeOf(Object.getPrototypeOf(e)))};let d=function(e,t="dom"){if(null==e)throw new Error("The argument must be require.");return"dom"===t?"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName:"document"===t?"object"==typeof e&&9===e.nodeType&&"#document"===e.nodeName:"window"===t?e===e.window:void 0};d.dom=function(e){return d(e,"dom")},d.document=function(e){return d(e,"document")},d.window=function(e){return d(e,"window")};var g=d;const m=function(e){if(!g(e))throw new Error("The argument must be HTMLElement.");let t=e.getAttribute("class");return null===t?[]:t.split(" ").filter(Boolean)};m.haser=function(e,t){if(!g(e))throw new Error("The first argument must be HTMLElement.");if("string"!=typeof t)throw new Error("The second argument must be string.");return m(e).findIndex(e=>e===t)>-1},m.adder=function(e,t){if(!g(e))throw new Error("The first argument must be HTMLElement.");if("string"!=typeof t)throw new Error("The second argument must be string.");if("classList"in e)e.classList.add(t);else{let r=m(e);-1===r.findIndex(e=>e===t)&&(r.push(t),e.setAttribute("class",r.join(" ")))}return e},m.remover=function(e,t){if(!g(e))throw new Error("The first argument must be HTMLElement.");if("string"!=typeof t)throw new Error("The second argument must be string.");if("classList"in e)e.classList.remove(t);else{let r=m(e).filter(e=>e!==t);e.setAttribute("class",r.join(" "))}return e};!function(){let e=0,t=document.createElement("div"),r=document.createElement("div"),n=t.style,s=r.style;n.position="absolute",n.top=0,n.left=0,n.pointerEvents="none",n.visibility="hidden",n.width="200px",n.height="150px",s.width="100%",s.height="200px",t.appendChild(r),document.body.appendChild(t);let i=r.offsetWidth;n.overflow="scroll";let o=r.offsetWidth;e=i-o,document.body.removeChild(t)}();let f=function(e){return g.window(e)?e.innerHeight:g.document(e)?document.documentElement.offsetHeight:g(e)?e.offsetHeight:0};f.window=function(){return window.innerHeight},f.document=function(){return document.documentElement.offsetHeight};const p=window.addEventListener?function(e,t,r){e.addEventListener(t,r,!1)}:window.attachEvent?function(e,t,r){e.attachEvent("on"+t,r)}:void 0;p.closer=window.removeEventListener?function(e,t,r){e.removeEventListener(t,r,!1)}:window.detachEvent?function(e,t,r){e.detachEvent("on"+t,r)}:void 0,p.typer=["click","mouseover","mouseout","mousedown","mouseup"];let w=function(e,t="class"){if("string"!=typeof e)throw new Error("The first argument must be string.");if(-1===["class","id","tag"].findIndex(e=>e===t))throw new Error("The second argument must be in ['class', 'id', 'tag'].");return"class"===t?document.querySelecotorAll?document.querySelectorAll("."+e):document.getElementsByClassName(e):"id"===t?document.querySelecotor?document.querySelector("#"+e):document.getElementById(e):"tag"===t?document.querySelectorAll?document.querySelectorAll(e):document.getElementsByTagName(e):void 0};w.class=function(e){return w(e,"class")},w.id=function(e){return w(e,"id")},w.tag=function(e){return w(e,"tag")};let b=function(e,t=window){if(!g(e))throw new Error("The first argument must be HTMLElement.");let r=e;for(;r&&"HTML"!==r.tagName&&"BODY"!==r.tagName&&1===r.nodeType&&r!==t;){const{overflowY:e}=window.getComputedStyle(r);if("scroll"===e||"auto"===e)return r;r=r.parentNode}return t};b.scrollTop=function(e,t){if(null==t){let t=0;return t=g.window(e)?window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop:e.scrollTop}g.window(e)?(document.documentElement.scrollTop=t,document.body.scrollTop=t):e.scrollTop=t},b.scrollHeight=function(e){return g.dom(e)?e.scrollHeight:document.documentElement.scrollHeight||document.body.scrollHeight};function v(e){if("string"!=typeof e)throw new Error("The argument must be string.");let t=new RegExp(/\-(\w)/g);return e.replace(t,function(e,t){return t?t.toUpperCase():""})}v.spread=function(e){if("string"!=typeof e)throw new Error("The argument must be string.");return e.replace(/([A-Z])/g,function(e,t,r){return"-"+t.toLowerCase()})};function y(e){if("string"!=typeof e)throw new Error("The argument must be string.");return/^[\s\S]+$/.test(e)}function x(e,t="-",r=4,n="start"){if("string"!=typeof e)throw new Error("The first argument must be string.");if("string"!=typeof t)throw new Error("The second argument must be string.");if(!Number.isInteger(r)||r<1)throw new Error("The third argument must be int number and it must not less then 1.");if(-1===["start","end"].findIndex(e=>e===n))throw new Error("The fourth argument must be start or end.");if("start"===n){let n=e.split(""),s=[];for(let e=0;e<n.length;e++)e>0&&e%r==0&&s.push(t),s.push(n[e]);return s.join("")}{let n=e.split("").reverse(),s=[];for(let e=0;e<n.length;e++)e>0&&e%r==0&&s.push(t),s.push(n[e]);return s.reverse().join("")}}function T(e,t){if("string"!=typeof e)throw new Error("The first argument must be string.");if("string"!=typeof t)throw new Error("The second argument must be string.");let r=[],n=new RegExp(`${t}`,"g");return e.replace(n,function(e,t,n){r.push(t)}),r}function E(e,t="upper"){if("string"!=typeof e)throw new Error("The first argument must string.");if(!["upper","lower","upperStart","lowerStart","exchange"].includes(t))throw new Error("The second argument must be in ['upper', 'lower', 'upperStart', 'lowerStart', 'exchange'].");return"upper"===t?e.toUpperCase():"lower"===t?e.toLowerCase():"upperStart"===t?e.substring(0,1).toUpperCase()+e.substring(1).toLowerCase():"lowerStart"===t?e.substring(0,1).toLowerCase()+e.substring(1).toUpperCase():"exchange"===t?e.split("").map(function(e){return/[a-z]/.test(e)?e.toUpperCase():e.toLowerCase()}).join(""):void 0}function _(e,t=0,r=""){if("string"!=typeof e)throw new Error("The first argument must be string.");if(!Number.isInteger(t)||t<0||t>e.length)throw new Error("The second argument must be int number,and it must not less than 0 and not greater than the first argument length.");if("string"!=typeof r)throw new Error("The third argument must be string.");return e.slice(0,t)+r+e.slice(t)}function C(e){Number.isInteger(e)&&e>0||(e=16);let t="abcdefghijklmnopqrstuvwxyz9876543210",r=t.length,n="";for(let s=0;s<e;s++)n+=t.charAt(Math.floor(Math.random()*r));return n}function S(e,t="whole"){if("string"!=typeof e)throw new Error("The first argument must be string.");if(!["start","end","both","whole"].includes(t))throw new Error("The second argument must be in ['start', 'end', 'both', 'whole'].");return"start"===t?e.replace(/(^\s*)/g,""):"end"===t?e.replace(/(\s*$)/g,""):"both"===t?e.replace(/(^\s*)|(\s*$)/g,""):"whole"===t?e.replace(/\s+/g,""):void 0}y.contain=function(e,t){if("string"!=typeof e)throw new Error("The first argument must be string.");if("string"!=typeof t)throw new Error("The second argument must be string.");return new RegExp(`${t}`,"g").test(e)},y.continue=function(e){if("string"!=typeof e)throw new Error("The argument must be string.");if(e.length<2)return!1;for(let t=1;t<e.length;t++)if(e.charCodeAt(t)-e.charCodeAt(t-1)!=1)return!1;return!0},y.repeat=function(e){if("string"!=typeof e)throw new Error("The argument must be string.");return!(e.length<2)&&1===e.split("").filter((e,t,r)=>r.indexOf(e)===t).length},y.center=function(e,t){if("string"!=typeof e)throw new Error("The first argument must be string.");if("string"!=typeof t)throw new Error("The second argument must be string.");let r=(e.length-t.length)/2;return!!Number.isInteger(r)&&e.slice(r,r+t.length)===t},y.end=function(e,t){if("string"!=typeof e)throw new Error("The first argument must be string.");if("string"!=typeof t)throw new Error("The second argument must be string.");return e.slice(e.length-t.length)===t},y.start=function(e,t){if("string"!=typeof e)throw new Error("The first argument must be string.");if("string"!=typeof t)throw new Error("The second argument must be string.");return e.slice(0,t.length)===t},y.plalin=function(e){if("string"!=typeof e)throw new Error("The argument must be string.");return e.split("").reverse().join("")===e},y.space=function(e){if("string"!=typeof e)throw new Error("The argument must be string.");return e.replace(/\s+/g,"")!==e},y.space.whole=function(e){if("string"!=typeof e)throw new Error("The argument must be string.");return""!==e&&""===e.replace(/\s+/g,"")},x.start=function(e,t,r){return x(e,t,r,"start")},x.end=function(e,t,r){return x(e,t,r,"end")},T.exec=function(e,t){if("string"!=typeof e)throw new Error("The first argument must be string.");if("string"!=typeof t)throw new Error("The second argument must be string.");let r,n=[],s=new RegExp(`${t}`,"g");do{(r=s.exec(e))&&n.push(r.index)}while(null!=r);return n},T.with=function(e,t){if("string"!=typeof e)throw new Error("The first argument must be string.");if(t.constructor!==RegExp)throw new Error("The second argument must be regexp.");let r=[],n=new RegExp(t);return e.replace(n,function(...e){r.push({regex:e[0],string:e[e.length-1],index:e[e.length-2],match:[...e.slice(1,-2)]})}),r},E.upper=(e=>E(e,"upper")),E.lower=(e=>E(e,"lower")),E.upperStart=(e=>E(e,"upperStart")),E.lowerStart=(e=>E(e,"lowerStart")),E.exchange=(e=>E(e,"exchange")),_.code=function(e,t="",r=""){if("string"!=typeof e)throw new Error("The first argument must be string.");if("string"!=typeof t)throw new Error("The second argument must be string.");if("string"!=typeof r)throw new Error("The third argument must be string.");let n=e.indexOf(t);return n>-1?e.slice(0,n)+r+e.slice(n):e},C.color=function(e){if("boolean"!=typeof e)throw new Error("The argument must be boolean.");let t=Math.floor(256*Math.random()),r=Math.floor(256*Math.random()),n=Math.floor(256*Math.random()),s=Math.random();return e?`rgba(${t},${r},${n},${s})`:`rgb(${t},${r},${n})`},C.color.hex=function(){return"#"+Math.floor(16777215*Math.random()).toString(16)},S.start=(e=>S(e,"start")),S.end=(e=>S(e,"end")),S.both=(e=>S(e,"both")),S.whole=(e=>S(e,"whole"));var I={check:y,connect:x,contains:T,convert:E,hump:v,insert:_,path:function(e){if("string"!=typeof e)throw new Error("The argument must be string.");let t=new RegExp(/\[(.*?)\]/,"g");return(e=e.replace(t,function(e,t,r,n){return"."+t})).split(".").filter(e=>!!e)},random:C,reverse:function(e){if("string"!=typeof e)throw new Error("The argument must be string.");return e.split("").reverse().join("")},shousand:function(e){return"string"!=typeof e&&"number"!=typeof e?e:(e=String(e),/\./g.test(e)?Number(e).toLocaleString():e.replace(/(\d)(?=(\d{3})+$)/g,"$1,"))},transfer:function(e){if("string"!=typeof e)throw new Error("The argument must be string.");return e=(e=(e=(e=e.replace(/&/gi,"&amp;")).replace(/</gi,"&lt;")).replace(/>/gi,"&gt;")).replace(" ","&nbsp;")},trim:S};let M=function(e,t,r="timeout"){if("function"!=typeof e)throw new Error("The first argument must be function.");if(!Number.isInteger(t)||t<0)throw new Error("The second argument must be int number , and it must be not less than 0.");if(-1===["timeout","time"].findIndex(e=>e===r))throw new Error("The third argument must be in ['timeout', 'time'].");if("timeout"===r){let r=null,n=0;return function(...s){return r||(r=setTimeout(()=>{n++,r=null,e.call(this,...s)},t)),n}}if("time"===r){let r=0,n=0;return function(...s){let i=+new Date;return i-r>t&&(n++,e.call(this,...s),r=i),n}}};M.timeout=function(e,t){return M(e,t,"timeout")},M.time=function(e,t){return M(e,t,"time")};function k(e,t){for(var r=0;r<10;r++){if(Math.pow(e,r)==t)return r}return-1}k(2,512);var $=[{type:"special",rules:["含特殊字符组成的非空字符串"],text:"是否含特殊字符",success:["!@#$$%^&*())","1!"],error:["123456","qazxsw"],value:/[`~!@#$%^&*()_\-+=<>?:"{}|,.\\/;'\\[\]·~！@#￥%……&*（）——\-+={}|《》？：“”【】、；‘’，。、]/im},{type:"chinese",rules:["只能由中文汉字组成的非空字符串"],text:"是否是中文",success:["一二三"],error:["123456","qazxsw"],value:/^[\u4E00-\u9FA5]+$/},{type:"english",rules:["只能由'a-z'|'A-Z'组成的非空字符串"],text:"是否是英文",success:["qazxsw","QAZWSX","qazWSX"],error:["123456","123qaz"],value:/^[a-zA-Z]+$/},{type:"english-upper",rules:["只能由'A-Z'组成的非空字符串"],text:"是否是大写英文",success:["QAZWSX"],error:["qazwsx"],value:/^[A-Z]+$/},{type:"english-lower",rules:["只能由'a-z'组成的非空字符串"],text:"是否是小写英文",success:["qazxsw"],error:["QAZWSX"],value:/^[a-z]+$/},{type:"number",rules:["只能由0-9组成的非空字符串"],text:"是否是数字",success:["13231","093920"],error:["dsdsdsdsds","0.100102010201"],value:/^[0-9]+$/},{type:"number-free",rules:["只能由'0-9'|'.'|'-'组成的非空字符串","小数点至多有一个，并且第一位不能是小数点","以0打头，后面没有小数点，则0本身，且前面不能带'-'，否则，后面跟任意位的非全0的数字","非0打头，后面没有小数点，则数值本身，否则后面跟任意位的任意数字"],text:"是否是合法的数字",success:["1","0","10","-1","0.1","0.01"],error:["-0","0.","0.00",".0","01"],value:/(^(-)?0\.([0-9]*)?[1-9]+([0-9]*)?$)|(^[0]{1}$)|(^(-)?[1-9]([0-9]+)?(\.[0-9]+)?$)/},{type:"number-integer",rules:["只能由'0-9'|'-'组成的非空字符串","以0打头，则0本身"],text:"是否是整数",success:["1","0","10","-1"],error:["-0","0.1","0.00",".0","0.001","01"],value:/(^(-)?([1-9][0-9]*)$)|(^[0]{1}$)/},{type:"number-money",rules:["只能由'0-9'|'.'组成的非空字符串","小数点至多有一个，并且第一位不能是小数点","以0打头，后面没有小数点，则0本身，否则后面跟不能全为0的至少一位数字","非0打头，后面没有小数点，则数值本身，否则后面跟1-2位的任意数字"],success:["0.01","0.10","0.1","0","1"],error:["-0","0.0","0.00",".0","0.001","-1","01"],text:"是否是金钱格式",value:/(^[0]{1}$)|(^0\.[1-9]([0-9])?$)|(^0\.([0-9])?[1-9]$)|(^[1-9]([0-9]*)?(\.[0-9]{1,2})?$)/},{type:"mobile",rules:["只能由0-9组成的11位非空字符串","首位一定是1"],text:"是否是手机号码",success:["13980464237"],error:["02334455555"],value:/^1[0-9]{10}$/},{type:"tel",rules:["只能由'0-9'|'-'组成的[7,8,11]位非空字符串"],text:"是否是座机号码",success:["028-12345678","0832-5231402","12345678","5231402"],error:["02812345678"],value:/(^[0-9]{3}\-[0-9]{8}$)|(^[0-9]{4}\-[0-9]{7}$)|(^[0-9]{7,8}$)/},{type:"id-card",memo:"该方法只是简单的验证，更复杂的需要判断生日，地区，校验等",rules:["长度只能是15位或18位","若15位，则全部是数字","若18位，则前17位全部是数字，最后一位可能是数字或字符x"],text:"是否是身份证号码",success:["5110251992071806019","511025199207180601x","51102519920718"],error:["511025199207180601o","511025199"],value:/(^\d{15}$)|(^\d{17}(\d|X|x)$)/}];function O(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function j(e){return null!=e&&(null===Object.getPrototypeOf(e)||null===Object.getPrototypeOf(Object.getPrototypeOf(e)))}function R(e,t="support"){return"support"===t?["string","number","boolean","array","null","undefined","object"].includes(e):"quote"===t?["array","object"].includes(e):"origin"===t?["string","number","boolean","null","undefined"].includes(e):void 0}function N(e){let t=O(e);if(!R(t))throw new Error("The argument type must be in ['string', 'number', 'boolean', 'array', 'null', 'undefined','object'].");if("object"===t&&!j(e))throw new Error("While the argument type is object,it must be created of {} or new Object() or Object.create(null).");if("array"===t){let t=[];for(let r=0;r<e.length;r++)t.push(N(e[r]));return t}if("object"===t){let t={};for(let r in e)t[r]=N(e[r]);return t}return e}N.nexter=function(e,t){let r=O(e),n=O(t);if(!R(r))throw new Error("The first argument type must be in [ number,string,boolean,null,undefined,array,object ]");if(!R(n))throw new Error("The second argument type must be in [ number,string,boolean,null,undefined,array,object ]");if("object"===r&&!j(e))throw new Error("While the first argument type is object,it must be created of {} or new Object() or Object.create(null).");if("object"===n&&!j(t))throw new Error("While the second argument type is object,it must be created of {} or new Object() or Object.create(null).");if(R(n,"origin"))return null==t?e:t;if(r!==n)return N(t);if("array"===r){let r=Math.max(e.length,t.length),n=[];for(let s=0;s<r;s++)n.push(N.nexter(e[s],t[s]));return n}if("object"===r){let r=Object.keys(e),n=Object.keys(t),s={};return[...r,...n].filter((e,t,r)=>r.indexOf(e)===t).forEach(r=>{s[r]=N.nexter(e[r],t[r])}),s}},N.prever=function(e,t){let r=O(e),n=O(t);if(!R(r))throw new Error("The first argument type must be in [ number,string,boolean,null,undefined,array,object ]");if(!R(n))throw new Error("The second argument type must be in [ number,string,boolean,null,undefined,array,object ]");if("object"===r&&!j(e))throw new Error("While the first argument type is object,it must be created of {} or new Object() or Object.create(null).");if("object"===n&&!j(t))throw new Error("While the second argument type is object,it must be created of {} or new Object() or Object.create(null).");if(R(n,"origin"))return null==t?e:t;if(r!==n)return N(t);if("array"===r){let r=[];for(let n=0;n<e.length;n++)r.push(N.prever(e[n],t[n]));return r}if("object"===r){let r={};return Object.keys(e).forEach(n=>{r[n]=N.prever(e[n],t[n])}),r}};let A=function(e){if("string"!=typeof e)throw new Error("The argument must be string.");return/^data\:image\/(.*?)\;base64/.test(e)};A.typer=function(e){if(!A(e))throw new Error("The argument must be base64 string.");let t="";return e.replace(/\:(.*?)\;/,function(e,r,n){t=r}),t},A.size=function(e){if(!A(e))throw new Error("The argument must be base64 string.");let t=e.indexOf(","),r=e.indexOf("="),n=e.slice(t+1,r>-1?r:e.length).length;return parseInt(n-n/8*2)};var L=function(e){if(!Number.isInteger(e)||e<0)throw new Error("The argument must be int number and must be not less than 0.");let t=[{unit:"B",scaler:1},{unit:"KB",scaler:1024},{unit:"MB",scaler:1048576},{unit:"GB",scaler:1073741824},{unit:"TB",scaler:1099511627776}],r={value:0,unit:""};for(let n=t.length-1;n>-1;n--){let s=Math.round(e/t[n].scaler);if(s>0)return r.value=s,r.unit=t[n].unit,r}return r};let q=h("file"),U=function(e){if(!q(e))throw new Error("The argument must be file.");let t=u(e.lastModified,"yyyy-MM-dd HH:mm:ss"),r=L(e.size),n=e.type.split("/"),s=e.name,i=e.name.lastIndexOf(".");return{type:n[0],subType:n[1],fileType:s.substring(i+1),bytes:e.size,name:s.substring(0,i),lastUpdateDate:t,size:r.value,sizeUnit:r.unit}};U.blober=function(e){if(!q(e))throw new Error("The argument must be file.");return new Promise((t,r)=>{setTimeout(()=>{let n;try{void 0!=window.createObjectURL?n=window.createObjectURL(e):void 0!=window.URL?n=window.URL.createObjectURL(e):void 0!=window.webkitURL&&(n=window.webkitURL.createObjectURL(e)),t(n)}catch(e){r(e)}},0)})},U.baser=function(e){if(!q(e))throw new Error("The argument must be file.");return new Promise((t,r)=>{setTimeout(()=>{try{let n=new FileReader;n.readAsDataURL(e),n.onloadend=function(){t(n.result)},n.onerror=function(e){r(e)}}catch(e){r(e)}},0)})};let z=function(e,t="height-width"){if("string"!=typeof e)throw new Error("The argument must be string.");if(-1===["height-width","height","width","volume"].findIndex(e=>e===t))throw new Error("The second argument must be in ['height-width', 'height', 'width','volume'].");return"volume"===t?new Promise((t,r)=>{let n;if(window.XMLHttpRequest?n=new XMLHttpRequest:window.ActiveXObject&&(n=new window.ActiveXObject("Microsoft.XMLHTTP")),null!=n){n.open("GET",e,!0);let s=0;n.onloadend=function(){4==n.readyState&&200==n.status?t(s):r({message:"The picture request is failded."})},n.onprogress=function(e){s=e.total};try{n.send(null)}catch(e){r({message:"The http request is aborted."})}}else r({message:"The browser is not support xmlhttp."})}):new Promise((r,n)=>{setTimeout(()=>{let s=new Image;s.src=e,s.onload=(()=>{"height-width"===t&&r({width:s.width,height:s.height}),"width"===t&&r(s.width),"height"===t&&r(s.height)}),s.onerror=(e=>{n(e)})},0)})};z.height=function(e){return z(e,"height")},z.width=function(e){return z(e,"width")},z.volume=function(e){return z(e,"volume")};let H=function(e,t="base64"){if("string"!=typeof e)throw new Error("The first argument must be string.");if(-1===["base64","blob"].findIndex(e=>e===t))throw new Error("The third argument must be in ['base64', 'blob' ].");return new Promise((r,n)=>{setTimeout(()=>{let s=new Image;s.src=e,s.crossOrigin="Anonymous",s.onload=(()=>{try{let e=document.createElement("canvas");e.width=s.width,e.height=s.height;let i=e.getContext("2d");if(i.drawImage(s,0,0,e.width,e.height),"base64"===t){let n=e.toDataURL(t,1);i.clearRect(0,0,e.width,e.height),r(n)}else e.toBlob(function(e){r(e)},t,1),i.clearRect(0,0,e.width,e.height)}catch(e){n(e)}}),s.onerror=(e=>{n(e)})},0)})};H.base64=function(e){return H(e,"base64")},H.blob=function(e){return H(e,"blob")};let D=function(e,t){let r=new Date(e);if(!function(e){return"Invalid Date"!==new Date(e).toString()}(e))throw new Error("The first argument must be a valid date.");if("string"!=typeof t)throw new Error("The second argument must be string.");var n={"M+":(e=r).getMonth()+1,"d+":e.getDate(),"H+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(var s in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+s+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?n[s]:("00"+n[s]).substr((""+n[s]).length)));return t};var F=function(e,t){if("string"!=typeof e)throw new Error("The first argument must be string.");try{let r={};r.time=D(new Date,"yyyy-MM-dd HH:mm:ss"),r.path=window.location.href,r.type=Object.prototype.toString.call(t).slice(8,-1).toLowerCase(),r.value=t,localStorage.setItem(e,JSON.stringify(r))}catch(e){throw new Error("This handler is fail.")}},P=function(e){if("string"!=typeof e)throw new Error("The first argument must be string.");try{let t=localStorage.getItem(e);return(t=t?JSON.parse(t):{}).value}catch(e){throw new Error("This handler is fail.")}};function B(){}function W(){}B.prototype.escape=function(e){if("string"!=typeof e)throw new Error("The argument must be string.");var t=[];t.push("0x");for(var r=0;r<e.length;r++)t.push(e.charCodeAt(r).toString(16));return t.join("")},B.prototype.unescape=function(e){if("string"!=typeof e)throw new Error("The argument must be string.");var t,r=e.trim(),n="0x"===r.substr(0,2).toLowerCase()?r.substr(2):r,s=n.length;if(s%2!=0)return alert("Illegal Format ASCII Code!"),"";for(var i=[],o=0;o<s;o+=2)t=parseInt(n.substr(o,2),16),i.push(String.fromCharCode(t));return i.join("")},B.prototype.encodeURI=function(e,t=","){if("string"!=typeof e)throw new Error("The first argument must be string.");if("string"!=typeof t)throw new Error("The second argument must be string.");for(var r="",n=0;n<e.length;n++)""==r?r=e.charCodeAt(n).toString(16):r+=t+e.charCodeAt(n).toString(16);return r},B.prototype.decodeURI=function(e,t=","){if("string"!=typeof e)throw new Error("The first argument must be string.");if("string"!=typeof t)throw new Error("The second argument must be string.");for(var r="",n=e.split(t),s=0;s<n.length;s++)r+=String.fromCharCode(parseInt(n[s],16));return r},B.prototype.decodeComponent=function(e){if("string"!=typeof e)throw new Error("The first argument must be string.");for(var t=[],r=0;r<e.length;r+=2){e.substring(r,r+2);t.push(parseInt(e.substring(r,r+2),16))}return this.readUTF(t)},B.prototype.readUTF=function(e){if(!Array.isArray(e))throw new Error("The argument must be array.");for(var t="",r=e,n=0;n<r.length;n++){var s=r[n].toString(2),i=s.match(/^1+?(?=0)/);if(i&&8==s.length){for(var o=i[0].length,a=r[n].toString(2).slice(7-o),u=1;u<o;u++)a+=r[u+n].toString(2).slice(2);t+=String.fromCharCode(parseInt(a,2)),n+=o-1}else t+=String.fromCharCode(r[n])}return t},W.prototype.escape=function(e){if("string"!=typeof e)throw new Error("The argument must be string.");return escape(e)},W.prototype.unescape=function(e){if("string"!=typeof e)throw new Error("The argument must be string.");return unescape(e)},W.prototype.encodeURI=function(e){if("string"!=typeof e)throw new Error("The argument must be string.");return encodeURI(e)},W.prototype.decodeURI=function(e){if("string"!=typeof e)throw new Error("The argument must be string.");return decodeURI(e)},W.prototype.encodeURIComponent=function(e){if("string"!=typeof e)throw new Error("The argument must be string.");return encodeURIComponent(e)},W.prototype.decodeURIComponent=function(e){if("string"!=typeof e)throw new Error("The argument must be string.");return decodeURIComponent(e)};const X=/[!'()*]/g,Z=e=>"%"+e.charCodeAt(0).toString(16),J=/%2C/g;function Y(){}function Q(){this.data=null,this.message="",this.pass=!0,this.isRequire=!1,this.sourse=[]}function G(){this.events=new Map}function K(){}Y.prototype.encode=function(e){return encodeURIComponent(e).replace(X,Z).replace(J,",")},Y.prototype.decode=decodeURIComponent,Y.prototype.stringify=function(e){const t=e?Object.keys(e).map(t=>{const r=e[t];if(void 0===r)return"";if(null===r)return this.encode(t);if(Array.isArray(r)){const e=[];return r.forEach(r=>{void 0!==r&&(null===r?e.push(this.encode(t)):e.push(this.encode(t)+"="+this.encode(r)))}),e.join("&")}return this.encode(t)+"="+this.encode(r)}).filter(e=>e.length>0).join("&"):null;return t?`?${t}`:""},Y.prototype.parse=function(e){if(String(e)!==e)return e;const t={};return(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach(e=>{const r=e.replace(/\+/g," ").split("="),n=this.decode(r.shift()),s=r.length>0?this.decode(r.join("=")):null;void 0===t[n]?t[n]=s:Array.isArray(t[n])?t[n].push(s):t[n]=[t[n],s]}),t):t},Q.prototype.set=function(e,t=!1,r=""){if("string"!=typeof e)throw new Error("The first argument must be string.");if("boolean"!=typeof t)throw new Error("The second argument must be boolean.");if(t&&"string"!=typeof r)throw new Error("While the second argument is true,the third argument must be string.");return this.pass?(this.isRequire=t,this.data=e,this.sourse.push({data:e,require:t}),this.isRequire?(this.pass=this._isRequire(this.data),this.pass||(this.message=r),this):(this.pass=!0,this.message="",this)):this},Q.prototype.len=function(e,t){if("string"!=typeof e)throw new Error("The first argument must be string.");if(!Number.isInteger(t)||t<0)throw new Error("The second argument must be int number,and it's must be not less than 0.");if(!this.pass||!this.isRequire&&!this._isRequire(this.data))return this;let r=new RegExp(`^[\\s\\S]{${t}}$`);return this.pass=r.test(this.data),this.pass||(this.message=e),this},Q.prototype.minLen=function(e,t){if("string"!=typeof e)throw new Error("The first argument must be string.");if(!Number.isInteger(t)||t<0)throw new Error("The second argument must be int number,and it's must be not less than 0.");if(!this.pass||!this.isRequire&&!this._isRequire(this.data))return this;if(!this.pass||!this.isRequire&&!this._isRequire(this.data))return this;let r=new RegExp(`^[\\s\\S]{${t},}$`);return this.pass=r.test(this.data),this.pass||(this.message=e),this},Q.prototype.maxLen=function(e,t){if("string"!=typeof e)throw new Error("The first argument must be string.");if(!Number.isInteger(t)||t<1)throw new Error("The second argument must be int number,and it's must be greater than 0.");if(!this.pass||!this.isRequire&&!this._isRequire(this.data))return this;let r=new RegExp(`^[\\s\\S]{0,${t}}$`);return this.pass=r.test(this.data),this.pass||(this.message=e),this},Q.prototype.rangeLen=function(e,t,r){if("string"!=typeof e)throw new Error("The first argument must be string.");if(!Number.isInteger(t)||!Number.isInteger(r))throw new Error("The second argument and third argument must be int number.");if(t<0||t>=r)throw new Error("The second argument must be not less than 0 ,and the third argument must be greater than the second argument.");if(!this.pass||!this.isRequire&&!this._isRequire(this.data))return this;let n=new RegExp(`^[\\s\\S]{${t},${r}}$`);return this.pass=n.test(this.data),this.pass||(this.message=e),this},Q.prototype.regex=function(e,t){if("string"!=typeof e)throw new Error("The first argument must be string.");if("string"!=typeof t)throw new Error("The second argument must be string.");if(!this.pass||!this.isRequire&&!this._isRequire(this.data))return this;let r=$.findIndex(e=>e.type===t);if(-1===r)throw new Error("The regex type is undefined.");return this.pass=$[r].value.test(this.data),this.pass||(this.message=e),this},Q.prototype.check=function(e,t){if("string"!=typeof e)throw new Error("The first argument must be string.");if("function"!=typeof t)throw new Error("The second argument must be function.");return this.pass&&(this.isRequire||this._isRequire(this.data))?(this.pass=t.call(this,this.data,$),this.pass||(this.message=e),this):this},Q.prototype._isRequire=function(e){if("string"!=typeof e)throw new Error("The argument must be string.");return/^[\s\S]+$/.test(e)},G.prototype.addListener=function(e,t){if("string"!=typeof e||""===e)throw new Error("The first argument must be string and it must be not empty.");if("function"!=typeof t)throw new Error("The second argument must be function.");let r=this.events.get(e);return r?r&&"function"==typeof r?this.events.set(e,[r,t]):r.push(t):this.events.set(e,t),this},G.prototype.emit=function(e,...t){if("string"!=typeof e||""===e)throw new Error("The first argument must be string and it must be not empty.");let r=this.events.get(e);if(!r)throw new Error("The event "+e+" is not addListener.");return Array.isArray(r)?r.forEach(e=>{e.call(this,...t)}):"function"==typeof r&&r.call(this,...t),this},G.prototype.removeListener=function(e){if("string"!=typeof e||""===e)throw new Error("The first argument must be string and it must be not empty.");this.events.delete(e)},K.prototype._template=function(e=10,t=function(){},r=this){return Array.apply(null,Array(e)).map(()=>t.call(r))},K.prototype._insert=function(e,t=0,r=""){if("string"!=typeof e)throw new Error("The first argument must be string.");if(!Number.isInteger(t)||t<0||t>e.length)throw new Error("The second argument must be int number,and it must not less than 0 and not greater than the first argument length.");if("string"!=typeof r)throw new Error("The third argument must be string.");return e.slice(0,t)+r+e.slice(t)},K.prototype._format=function(e){if("string"!=typeof e)throw new Error("The first argument must be string.");return e.indexOf(".")>-1&&(e=e.replace(/(0+)$/,"")),(e=e.replace(/^(0+)/,"")).startsWith(".")&&(e="0"+e),0===(e=e.replace(/\.$/,"")).length?"0":e},K.prototype._isFreeNumber=function(e){if("string"!=typeof e)throw new Error("The argument must be string.");return/(^[0](\.[0-9]+)?$)|(^[1-9]([0-9]+)?(\.[0-9]+)?$)/.test(e)},K.prototype._toFreeNumber=function(e){if("number"!=typeof e&&"string"!=typeof e)throw new Error("The argument must be string or number.");if("number"==typeof e){let t=String(e),r=t.indexOf("-");if(0===r)throw new Error("The argument must be not less than 0.");return r>0&&(t="0"+String(Number(t)+1).substr(1)),t}if(!/(^[0](\.[0-9]+)?$)|(^[1-9]([0-9]+)?(\.[0-9]+)?$)/.test(e))throw new Error("The argument must be a free number.");return e},K.prototype.adder=function(e,t){e=this._toFreeNumber(e),t=this._toFreeNumber(t);let r=e.split("."),n=t.split("."),s=r[0].length,i=n[0].length,o=s-i,a=(Math.max(s,i),r[1]?r[1].length:0),u=n[1]?n[1].length:0,l=a-u,h=Math.max(a,u),c=this._template(Math.abs(o),()=>"0").join("");o>0?t=c+t:o<0&&(e=c+e);let d=this._template(Math.abs(l),()=>"0").join("");l>0?t+=d:l<0&&(e+=d),t=t.replace(".",""),e=(e=e.replace(".","")).split("").reverse(),t=t.split("").reverse();let g=[];for(let r=0;r<e.length;r++){let n=Number(e[r]||0)+Number(t[r]||0)+Number(g[r]||0);g[r]=n%10;let s=(n-n%10)/10;s>0&&(g[r+1]=s)}let m=g.reverse().join(""),f=this._insert(m,m.length-h,".");return this._format(f)},K.prototype.muler=function(e,t){e=this._toFreeNumber(e),t=this._toFreeNumber(t);let r=e.split("."),n=t.split("."),s=r[0].length,i=n[0].length,o=(Math.max(s,i),r[1]?r[1].length:0),a=n[1]?n[1].length:0,u=o+a;Math.max(o,a);e=e.replace(".",""),t=t.replace(".","");let l=[];for(let r=e.length-1;r>=0;r--)for(let n=t.length-1;n>=0;n--){let s=Number(e[r]||0)*Number(t[n]||0)+(l[r+n+1]||0),i=s%10,o=(s-i)/10;l[r+n+1]=i,l[r+n]=o+Number(l[r+n]||0)}let h=l.join(""),c=this._insert(h,h.length-u,".");return this._format(c)};let V=r("0tEf"),ee=r("O3w4"),te=(e="/chat/socket/chat-webSocket")=>{let t=null,r=new ee(e);return(t=V.over(r)).debug=!1,t};var re={name:"order-custom",data:()=>({params:{orderSn:"tn201911203574592"},order:{orderSn:"",list:[],selected:{},message:null,selectType:"left"},custom:{selected:{},list:[]},chat:{loading:!1,minChatId:0,list:[],pageSize:20,finished:!1,orderId:"",orderSn:"",appId:"",accessToken:"",uidType:1,uidTo:"",uidFrom:"",nameFrom:"",nameTo:"",message:"",socketConneted:!1,socketConnetedCount:0},letter:{list:[]},preview:{content:"",show:!1}}),props:{},computed:{},methods:{init(){this.getCustomList(),this.getLetter()},getCustomList(){let e=P("app/custom/list")||[];e.map(e=>e.selected=!1),this.custom.list=e},getOrderList(){this.$http.post(this.host+"/otc/order/self",{orderSn:I.trim.both(this.order.orderSn),pageSize:20,pageNo:0}).then(({body:e})=>{let{code:t,data:r,message:n}=e;0===t?this.order.list=r.content.filter(e=>e.accessToken&&e.subMemId):this.$Message.error(n)})},selectOrder(e){this.order.selected=e;let{orderSn:t}=e;this.order.selectType="left",this.getOrderDetail({orderSn:t})},selectCustom({accessToken:e,appId:t,orderId:r,orderSn:n}){this.order.selectType="right";let s=P("app/custom/list")||[];s.map(e=>e.orderSn===n?e.selected=!0:e.selected=!1),F("app/custom/list",s),this.custom.list=s,this.getCustomDetail({accessToken:e,appId:t,orderId:r}),this.getOrderDetail({orderSn:n})},getOrderDetail({orderSn:e}){this.$http.post(this.host+"/otc/order/detail",{orderSn:e}).then(({body:e})=>{let{code:t,data:r,message:n}=e;0===t?this.order.message=r:this.$Message.error(n)})},getCustomDetail({accessToken:e,appId:t,orderId:r}){return new Promise(n=>{this.$http.post(this.host+"/p/custom/appealDetail.do",{accessToken:e,appId:t,orderId:r}).then(({body:n})=>{let{code:s,data:i,msg:o}=n;"000"===s?(this.chat.accessToken=e,this.chat.appId=t,this.chat.orderId=r,this.chat.uidFrom=i.customerId+"_"+i.subMemId,this.chat.uidTo=i.memberId,this.chat.nameFrom=i.subDealName||i.subMemId,this.chat.nameTo=i.memberName,this.chat.orderSn=i.orderSn,this.createSocket(),this.getChatList()):this.$Message.error(message)})})},getChatList(e=!1){return new Promise(t=>{if(this.chat.loading)return this.$Message.error("请稍等，正在获取聊天记录！");this.chat.loading=!0,this.chat.minChatId=e?this.chat.list[0].chatId:0;let{minChatId:r,pageSize:n,accessToken:s,appId:i,orderId:o}=this.chat;this.$http.post(this.host+"/chat/getHistoryMessageKh.do",{accessToken:s,appId:i,orderId:o,minChatId:r,pageSize:n}).then(({body:r})=>{let{code:n,data:s,msg:i}=r;if("000"===n){let r=s.reverse();this.chat.finished=this.chat.pageSize>r.length,e?this.chat.list=[...r,...this.chat.list]:(this.chat.list=r,this.scrollToBottom()),this.chat.loading=!1,t("list")}else this.$Message.error(i)}).catch(()=>{this.chat.loading=!1})})},createSocket(){this._socket=te(this.host+"/chat/socket/chat-webSocket");this._socket.connect({},e=>{this.$Message.success("聊天室已连接，您可以进行聊天了~"),this.chat.socketConneted=!0,this.chat.socketConnetedCount=0,this.subscribeSocketMessage()},e=>{this.chat.socketConnetedCount++,10===this.chat.socketConnetedCount?(this.$Mssage.error("聊天室连接失败，请检查网络！"),this.chat.socketConnetedCount=0):(this.chat.socketConneted=!1,this.createSocket())});this._socket.debug=function(e){}},closeSocket(){this._socket&&(this._socket.disconnect(),this.$Message.error("聊天室已关闭！"))},isMine:e=>1===e.uidType,subscribeSocketMessage(){this._socket.subscribe("/topic/chatMsg/kh/"+this.chat.uidFrom,e=>{let t=JSON.parse(e.body);if(this.chat.list.find(e=>e.sendTime==t.sendTime))return!1;t.orderId===this.chat.orderId.toString()&&this.chat.list.push(t),this.scrollToBottom()})},scrollToBottom(){setTimeout(()=>{var e=this.$refs.chatWrap;e.scrollTop=e.scrollHeight},300)},sendSocketMessage({content:e,type:t}){let{uidTo:r,uidFrom:n,orderId:s,orderSn:i,nameFrom:o,nameTo:a,appId:u,accessToken:l,uidType:h}=this.chat,c={content:e,type:t,uidTo:r,uidFrom:n,orderId:s,orderSn:i,nameFrom:o,nameTo:a,appId:u,accessToken:l,uidType:h};this.chat.list.push(c),this._socket.send("/app/message/nologin",{},JSON.stringify(c)),this.scrollToBottom()},sendMessage(e){return 0!==this.custom.list.length&&this.custom.list.find(e=>e.selected)?this.chat.socketConneted?e?(this.sendSocketMessage({content:e,type:0}),void(this.chat.message="")):this.$Message.error("内容不能为空!"):this.$Message.error("聊天室连接失败，请刷新页面重试!"):this.$Message.error("请选择申诉订单!")},sendMessageAndSetLetter(e){this.sendMessage(e),this.setLetter(e)},showPicture(e){this.preview.show=!0,this.preview.content=e},uploadImage(e,t="select"){let r;if("select"===t){let t=e.target.files[0];(r=new FormData).append("file",t),e.target.value=""}else(r=new FormData).append("file",e);this.$http.post(this.host+"/res/upload/image/compress.do",r).then(({body:e})=>{let{code:t,data:r,msg:n}=e;if("000"===t&&r&&r.url){if(0===this.custom.list.length||!this.custom.list.find(e=>e.selected))return this.$Message.error("请选择申诉订单!");if(!this.chat.socketConneted)return this.$Message.error("聊天室连接失败，请刷新页面重试!");this.sendSocketMessage({content:r.url,type:1})}else this.$Message.error(n)})},getOrderStatus:function(e){return[{value:0,text:"已取消",className:"is-color--danger",icon:"&#xe61e;"},{value:1,text:"等待付款",className:"is-color--warning",icon:"&#xe64b;"},{value:2,text:"已付款",className:"is-color--success",icon:"&#xe742;"},{value:3,text:"已完成",className:"is-color--success",icon:"&#xe742;"}].find(t=>t.value===e)||{}},getOrderType:function(e){return[{value:0,text:"充值",className:"is-color--danger",icon:"&#xe61e;"},{value:1,text:"提现",className:"is-color--warning",icon:"&#xe64b;"}].find(t=>t.value===e)||{}},closeCustom({orderId:e}){this.$Modal.confirm({title:"温馨提示",content:"您是否确认该订单已处理完成？",onOk:()=>{let t=P("app/custom/list")||[];t=t.filter(t=>t.orderId!=e),F("app/custom/list",t),this.custom.list=t}})},createCustom(){let e=P("app/custom/list")||[];if(e.find(e=>e.orderSn===this.order.message.orderSn))return this.$Message.error("已在申诉订单列表中");let{accessToken:t,appId:r,orderSn:n,channelOrderId:s,orderId:i,subMemId:o}=this.order.selected;e.unshift({selected:!1,accessToken:t,appId:r,orderSn:n,channelOrderId:s,orderId:i,subMemId:o}),F("app/custom/list",e),this.custom.list=e},getLetter(){let e=P("app/custom/letter")||[];this.letter.list=e},setLetter(e){return e?this.letter.list.find(t=>t.message===e)?this.$Message.error("常用语中已存！"):(this.letter.list.unshift({message:e}),void F("app/custom/letter",this.letter.list)):this.$Message.error("常用语不能为空！")},clearLetter(e,t){this.letter.list=this.letter.list.filter(t=>e.message!==t.message),F("app/custom/letter",this.letter.list)}},mounted(){this.init()},beforeDestroy(){this.closeSocket()}},ne={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-view"},[r("Modal",{staticClass:"ivu-modal--preview",attrs:{title:"图片预览",width:"100%"},model:{value:e.preview.show,callback:function(t){e.$set(e.preview,"show",t)},expression:"preview.show"}},[r("div",{staticStyle:{width:"100%",height:"100%","text-align":"center"},on:{click:function(t){e.preview.show=!1}}},[r("img",{staticClass:"is-preview",attrs:{src:e.preview.content,alt:""}})]),e._v(" "),r("div",{attrs:{slot:"footer"},slot:"footer"})]),e._v(" "),r("div",{staticClass:"vi-background is-background--light-black"},[r("div",{staticClass:"vi-padding"},[r("Input",{attrs:{slot:"extra",icon:"ios-search",placeholder:"输入订单编号搜索"},on:{"on-click":e.getOrderList,"on-enter":e.getOrderList},slot:"extra",model:{value:e.order.orderSn,callback:function(t){e.$set(e.order,"orderSn",t)},expression:"order.orderSn"}})],1),e._v(" "),r("div",{staticClass:"vi-flex "},[e.order.list.length>0?r("div",{staticClass:"vi-flex-item vi-border is-border--right is-border--white is-border--thiner",staticStyle:{width:"300px"}},[r("div",{staticClass:"vi-padding",staticStyle:{height:"700px",overflow:"auto"}},[e._m(0),e._v(" "),e._l(e.order.list,function(t,n){return r("div",{key:n,staticClass:"vi-padding vi-border is-border--bottom is-border--thiner",on:{click:function(r){e.selectOrder(t)}}},[r("div",{staticStyle:{"line-height":"32px"}},[r("span",[e._v(" 订单号："+e._s(t.orderSn)+" ")])]),e._v(" "),r("div",{staticStyle:{"line-height":"28px"}},[r("span",{staticClass:"vi-text is-size--smaller"},[e._v("\n                渠道编号："+e._s(t.channelOrderId)+"\n              ")])]),e._v(" "),r("div",{staticStyle:{"line-height":"24px"}},[r("span",{staticClass:"vi-text is-size--smaller"},[e._v("\n                渠道用户编号："+e._s(t.subMemId)+"\n              ")])])])})],2)]):e._e(),e._v(" "),e.order.message?r("div",{staticClass:"vi-flex-item vi-border is-border--right is-border--white is-border--thiner",staticStyle:{width:"300px"}},[r("div",{staticClass:"vi-padding",staticStyle:{height:"700px",overflow:"auto"}},[e._m(1),e._v(" "),r("div",{staticClass:"vi-flex",staticStyle:{"line-height":"32px"}},[r("span",{staticClass:"vi-flex-item vi-text is-align--right vi-padding-right",staticStyle:{width:"120px"}},[e._v("\n              订单编号\n            ")]),e._v(" "),r("span",{staticClass:"vi-text  "},[e._v("\n              "+e._s(e.order.message.orderSn)+"\n            ")])]),e._v(" "),r("div",{staticClass:"vi-flex",staticStyle:{"line-height":"32px"}},[r("span",{staticClass:"vi-flex-item vi-text is-align--right vi-padding-right",staticStyle:{width:"120px"}},[e._v("\n              渠道编号\n            ")]),e._v(" "),r("span",{staticClass:"vi-text  "},[e._v("\n              "+e._s(e.order.message.channelOrderId)+"\n            ")])]),e._v(" "),r("div",{staticClass:"vi-flex",staticStyle:{"line-height":"32px"}},[r("span",{staticClass:"vi-flex-item vi-text is-align--right vi-padding-right",staticStyle:{width:"120px"}},[e._v("\n              渠道用户编号\n            ")]),e._v(" "),r("span",{staticClass:"vi-text  "},[e._v("\n              "+e._s(e.order.message.subMemId)+"\n            ")])]),e._v(" "),r("div",{staticClass:"vi-flex",staticStyle:{"line-height":"32px"}},[r("span",{staticClass:"vi-flex-item vi-text is-align--right vi-padding-right",staticStyle:{width:"120px"}},[e._v("\n              数量 | TTM\n            ")]),e._v(" "),r("span",{staticClass:"vi-text  "},[e._v("\n              "+e._s(e.order.message.amount)+"\n            ")])]),e._v(" "),r("div",{staticClass:"vi-flex",staticStyle:{"line-height":"32px"}},[r("span",{staticClass:"vi-flex-item vi-text is-align--right vi-padding-right",staticStyle:{width:"120px"}},[e._v("\n              金额 | CNY\n            ")]),e._v(" "),r("span",{staticClass:"vi-text  "},[e._v("\n              "+e._s(e.order.message.money)+"\n            ")])]),e._v(" "),r("div",{staticClass:"vi-flex",staticStyle:{"line-height":"32px"}},[r("span",{staticClass:"vi-flex-item vi-text is-align--right vi-padding-right",staticStyle:{width:"120px"}},[e._v("\n              方式\n            ")]),e._v(" "),r("span",{staticClass:"vi-text  "},[e._v("\n              "+e._s(e.order.message.payMode)+"\n            ")])]),e._v(" "),r("div",{staticClass:"vi-flex",staticStyle:{"line-height":"32px"}},[r("span",{staticClass:"vi-flex-item vi-text is-align--right vi-padding-right",staticStyle:{width:"120px"}},[e._v("\n              类型\n            ")]),e._v(" "),r("span",{staticClass:"vi-text  ",class:e.getOrderType(e.order.message.type).className},[e._v("\n              "+e._s(e.getOrderType(e.order.message.type).text)+"\n            ")])]),e._v(" "),r("div",{staticClass:"vi-flex",staticStyle:{"line-height":"32px"}},[r("span",{staticClass:"vi-flex-item vi-text is-align--right vi-padding-right",staticStyle:{width:"120px"}},[e._v("\n              状态\n            ")]),e._v(" "),r("span",{staticClass:"vi-text  ",class:e.getOrderStatus(e.order.message.status).className},[e._v("\n              "+e._s(e.getOrderStatus(e.order.message.status).text)+"\n            ")])]),e._v(" "),r("div",{staticClass:"vi-flex",staticStyle:{"line-height":"32px"}},[r("span",{staticClass:"vi-flex-item vi-text is-align--right vi-padding-right",staticStyle:{width:"120px"}},[e._v("\n              创建时间\n            ")]),e._v(" "),r("span",{staticClass:"vi-text  "},[e._v("\n              "+e._s(e.order.message.createTime)+"\n            ")])]),e._v(" "),r("div",{staticClass:"vi-flex",staticStyle:{"line-height":"32px"}},[r("span",{staticClass:"vi-flex-item vi-text is-align--right vi-padding-right",staticStyle:{width:"120px"}},[e._v("\n              转账数量 | TTM\n            ")]),e._v(" "),r("span",{staticClass:"vi-text  "},[e._v("\n              "+e._s(e.order.message.transferNumber)+"\n            ")])]),e._v(" "),r("div",{staticClass:"vi-flex",staticStyle:{"line-height":"32px"}},[r("span",{staticClass:"vi-flex-item vi-text is-align--right vi-padding-right",staticStyle:{width:"120px"}},[e._v("\n              转账时间\n            ")]),e._v(" "),r("span",{staticClass:"vi-text  "},[e._v("\n              "+e._s(e.order.message.transferTime)+"\n            ")])]),e._v(" "),"left"===e.order.selectType?r("div",{staticClass:"vi-margin-top"},[r("i-button",{attrs:{type:"primary",long:""},on:{click:e.createCustom}},[e._v("\n              添加到申诉列表\n            ")])],1):e._e()])]):e._e(),e._v(" "),e.custom.list.length>0?r("div",{staticClass:"vi-flex-item vi-border is-border--right is-border--white is-border--thiner",staticStyle:{width:"300px"}},[e.custom.list.length>0?r("div",{staticClass:"vi-padding",staticStyle:{height:"700px",overflow:"auto"}},[e._m(2),e._v(" "),e._l(e.custom.list,function(t,n){return r("div",{key:n,staticClass:"vi-padding vi-border  ",class:{"is-border--round is-border--primary":t.selected,"is-border--bottom is-border--thiner":!t.selected},on:{click:function(r){e.selectCustom(t)}}},[r("div",{staticStyle:{"line-height":"32px"}},[r("span",[e._v(" 订单号："+e._s(t.orderSn)+" ")])]),e._v(" "),r("div",{staticStyle:{"line-height":"28px"}},[r("span",{staticClass:"vi-text is-size--smaller"},[e._v("\n                渠道编号："+e._s(t.channelOrderId)+"\n              ")])]),e._v(" "),r("div",{staticStyle:{"line-height":"24px"}},[r("span",{staticClass:"vi-text is-size--smaller"},[e._v("\n                渠道用户编号："+e._s(t.subMemId)+"\n              ")])]),e._v(" "),r("div",{staticClass:"vi-text is-align--right"},[r("i-button",{attrs:{type:"error"},on:{click:function(r){r.preventDefault(),r.stopPropagation(),e.closeCustom(t)}}},[e._v("\n                关闭\n              ")])],1)])})],2):e._e()]):e._e(),e._v(" "),r("div",{staticClass:"vi-flex-item is-flex--1"},[r("div",{staticStyle:{height:"700px"}},[r("div",{staticClass:"vi-chat"},[r("div",{ref:"chatWrap",staticClass:"vi-chat-body"},[e.chat.finished?e._e():r("div",{staticClass:"vi-margin-bottom vi-flex is-justify-content--center"},[r("i-button",{attrs:{type:"default"},on:{click:function(t){e.getChatList(!0)}}},[e._v("\n                  加载更多\n                ")])],1),e._v(" "),e._l(e.chat.list,function(t,n){return r("div",{staticClass:"vi-chat-row ",class:{"is-row--left":!e.isMine(t),"is-row--right":e.isMine(t)}},[e.isMine(t)?e._e():r("div",{staticClass:"vi-chat-tag"}),e._v(" "),r("div",{staticClass:"vi-chat-content"},[r("div",{staticClass:"vi-chat-arrow"}),e._v(" "),r("div",{staticClass:"vi-chat-message"},[r("div",[0===t.type?r("span",[e._v(e._s(t.content))]):r("img",{staticStyle:{"max-width":"250px","max-height":"350px"},attrs:{src:t.content,alt:""},on:{click:function(r){e.showPicture(t.content)}}})]),e._v(" "),t.sendTimeStr?r("div",{staticClass:"vi-margin-top"},[r("span",{staticClass:"vi-text is-size--smaller "},[e._v("\n                        "+e._s(t.sendTimeStr)+"\n                      ")])]):e._e()])]),e._v(" "),e.isMine(t)?r("div",{staticClass:"vi-chat-tag"}):e._e()])})],2),e._v(" "),r("div",{staticClass:"vi-chat-footer vi-padding"},[r("div",{staticClass:"vi-flex is-align-items--center"},[r("label",{staticClass:"vi-upload",attrs:{for:"upload-2"}},[r("input",{attrs:{type:"file",id:"upload-2",accept:"image/*"},on:{change:function(t){return e.uploadImage(t)}}}),e._v(" "),e._m(3)]),e._v(" "),r("div",{staticClass:"vi-flex-item is-flex--1 vi-margin-right"},[r("Input",{ref:"editable",attrs:{size:"large",placeholder:"输入聊天内容 按回车键可发送"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.sendMessage(e.chat.message)}},model:{value:e.chat.message,callback:function(t){e.$set(e.chat,"message",t)},expression:"chat.message"}})],1),e._v(" "),r("div",{staticClass:"vi-margin-right"},[r("Button",{attrs:{type:"primary"},on:{click:function(t){e.sendMessage(e.chat.message)}}},[e._v("发送")])],1),e._v(" "),r("div",{staticClass:"vi-margin-right"},[r("Button",{attrs:{type:"error"},on:{click:function(t){e.sendMessageAndSetLetter(e.chat.message)}}},[e._v("\n                    发送并记为常用语\n                  ")])],1),e._v(" "),r("div",{},[r("Button",{attrs:{type:"success"},on:{click:function(t){e.setLetter(e.chat.message)}}},[e._v("\n                    记为常用语\n                  ")])],1)]),e._v(" "),e.letter.list.length>0?r("div",{staticClass:"vi-padding ",staticStyle:{"max-height":"150px",overflow:"auto"}},e._l(e.letter.list,function(t,n){return r("Tag",{key:n,ref:"tagsPageOpened",refInFor:!0,attrs:{name:t.message,closable:""},on:{"on-close":function(r){e.clearLetter(t,n)}},nativeOn:{click:function(r){e.sendMessage(t.message)}}},[e._v(e._s(t.message)+"\n                ")])})):e._e()])])])])])])],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"vi-text is-align--center",staticStyle:{"line-height":"36px"}},[t("span",{staticClass:"vi-text is-color--primary"},[this._v("搜索订单列表")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"vi-text is-align--center",staticStyle:{"line-height":"36px"}},[t("span",{staticClass:"vi-text is-color--primary"},[this._v("订单详情")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"vi-text is-align--center",staticStyle:{"line-height":"36px"}},[t("span",{staticClass:"vi-text is-color--primary"},[this._v("申诉订单列表")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"vi-padding-ad"},[t("span",{staticClass:"vi-icon",staticStyle:{"font-size":"24px"}},[this._v("\n                      \n                    ")])])}]};r.d(t,"createSocket",function(){return te});var se=r("VU/8")(re,ne,!1,null,null,null);t.default=se.exports}});